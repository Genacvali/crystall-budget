{% extends "base.html" %}
{% block title %}–ü—Ä–æ—Ñ–∏–ª—å ‚Äî CrystalBudget{% endblock %}

{% block content %}
<div class="ynab-card mb-4">
  <div class="ynab-card-header">
    <h5 class="mb-0"><i class="bi bi-person-circle me-2"></i>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h5>
  </div>
  <div class="ynab-card-body">
    <div class="row">
      <div class="col-md-6">
        <div class="mb-3">
          <label class="form-label text-muted">Email</label>
          <div class="fw-semibold">{{ user.email }}</div>
        </div>
        <div class="mb-3">
          <label class="form-label text-muted">–ò–º—è</label>
          <div class="fw-semibold">{{ user.name }}</div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="mb-3">
          <label class="form-label text-muted">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</label>
          <div class="fw-semibold">{{ user.created_at|format_date_with_day if user.created_at else '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ' }}</div>
        </div>
        <div class="mb-3">
          <label class="form-label text-muted">–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥</label>
          <div class="fw-semibold">{{ user.last_login|format_date_with_day if user.last_login else '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ' }}</div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="ynab-card mb-4">
  <div class="ynab-card-header">
    <h5 class="mb-0"><i class="bi bi-gear me-2"></i>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h5>
  </div>
  <div class="ynab-card-body">
    <form method="POST" action="{{ url_for('update_settings') }}" class="row g-3">
      <div class="col-md-6">
        <label class="form-label">–í–∞–ª—é—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</label>
        <select class="form-select" name="currency">
          {% for c in ['RUB','USD','EUR','AMD','GEL'] %}
          <option value="{{ c }}" {% if c == session.get('currency', 'RUB') %}selected{% endif %}>
            {% if c == 'RUB' %}üá∑üá∫ –†—É–±–ª–∏ (‚ÇΩ){% endif %}
            {% if c == 'USD' %}üá∫üá∏ –î–æ–ª–ª–∞—Ä—ã ($){% endif %}
            {% if c == 'EUR' %}üá™üá∫ –ï–≤—Ä–æ (‚Ç¨){% endif %}
            {% if c == 'AMD' %}üá¶üá≤ –î—Ä–∞–º—ã (÷è){% endif %}
            {% if c == 'GEL' %}üá¨üá™ –õ–∞—Ä–∏ (‚Çæ){% endif %}
          </option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label">–¢–µ–º–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</label>
        <select class="form-select" name="theme">
          <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
          <option value="dark">–¢–µ–º–Ω–∞—è</option>
          <option value="auto">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è</option>
        </select>
      </div>
      <div class="col-12">
        <button type="submit" class="btn btn-primary">
          <i class="bi bi-check-lg me-1"></i>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        </button>
      </div>
    </form>
  </div>
</div>

<div class="ynab-card">
  <div class="ynab-card-header">
    <h5 class="mb-0"><i class="bi bi-download me-2"></i>–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</h5>
  </div>
  <div class="ynab-card-body">
    <p class="text-muted mb-3">–°–∫–∞—á–∞–π—Ç–µ –∫–æ–ø–∏—é –≤—Å–µ—Ö –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –ø–µ—Ä–µ–Ω–æ—Å–∞.</p>
    <div class="d-flex gap-2">
      <button class="btn btn-outline-primary" onclick="alert('–≠–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ')">
        <i class="bi bi-file-text me-1"></i>–≠–∫—Å–ø–æ—Ä—Ç CSV
      </button>
      <button class="btn btn-outline-primary" onclick="alert('–≠–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ')">
        <i class="bi bi-file-code me-1"></i>–≠–∫—Å–ø–æ—Ä—Ç JSON
      </button>
    </div>
  </div>
</div>

{% endblock %}
{# templates/components/_balance_panel.html #}
{% set inc = income | default(0) %}
{% set total_spent = (budget_data | default([])) | map(attribute='spent') | sum %}
{% set total_limit = (budget_data | default([])) | map(attribute='limit') | sum %}
{% set balance = inc - total_spent %}

<div class="hero mb-3">
  <div class="d-flex align-items-start justify-content-between gap-3 flex-wrap">
    <div>
      <h1>{{ balance | format_amount }} ₽</h1>
      <div class="meta">
        Доход: {{ inc | format_amount }} ₽ ·
        Потрачено: {{ total_spent | format_amount }} ₽ ·
        Лимиты: {{ total_limit | format_amount }} ₽
      </div>
    </div>

    <div class="d-flex gap-2 flex-wrap">
<button type="button" class="btn-hero" data-bs-toggle="modal" data-bs-target="#expenseModal" aria-label="Добавить расход">
  <span class="icon-badge icon-expense"><i class="bi bi-wallet2"></i></span>
  Расход
</button>
<button type="button" class="btn-hero" data-bs-toggle="modal" data-bs-target="#incomeModal" aria-label="Добавить доход">
  <span class="icon-badge icon-income"><i class="bi bi-arrow-up-circle"></i></span>
  Доход
</button>
      </button>
    </div>
  </div>
</div>

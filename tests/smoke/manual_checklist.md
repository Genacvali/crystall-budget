# Смоки-тесты (ручные) - 15 минут

## Окружение
- **Тестовый URL**: `http://localhost:5000` или `https://budget.example.com`
- **Время выполнения**: ~15 минут
- **Частота**: Перед каждым релизом, после деплоя

## Чек-лист "Золотой путь"

### 1. Авторизация (2 мин)
- [ ] **Логин через Telegram**
  - Переход на `/login` 
  - Кнопка "Войти через Telegram" работает
  - Успешная авторизация → редирект на дашборд
  - Аватар и имя пользователя отображаются

- [ ] **Проверка неавторизованного доступа**
  - Переход на `/dashboard` без авторизации → редирект на `/login`

### 2. Дашборд (3 мин) 
- [ ] **Основные элементы**
  - Загружается главный дашборд `/dashboard`
  - Отображается текущий месяц и год
  - Видны карточки категорий с прогрессом
  - Общий баланс: доходы/расходы/остаток
  - Сайдбар: навигация работает

- [ ] **Проверка данных**
  - Если данных нет → показывается пустое состояние
  - Если данные есть → корректные суммы и проценты

### 3. Добавление дохода (2 мин)
- [ ] **Создание дохода**
  - Переход в `/income` 
  - Кнопка "Добавить доход"
  - Заполнение формы: сумма=50000, источник=ЗП, дата=текущий месяц
  - Успешное сохранение → появление в списке
  - Возврат на дашборд → обновление общего баланса

### 4. Добавление категории и расхода (3 мин)
- [ ] **Создание категории**
  - Переход в `/categories`
  - "Добавить категорию": название="Продукты", тип=процент, лимит=30%
  - Успешное сохранение → появление в списке

- [ ] **Создание расхода**
  - Переход в `/expenses`
  - "Добавить расход": сумма=3000, категория="Продукты", описание="Магазин"
  - Успешное сохранение → появление в списке
  - Возврат на дашборд → обновление прогресса категории

### 5. Навигация по месяцам (2 мин)
- [ ] **Переключение месяцев**
  - На дашборде: стрелки ← → для смены месяца
  - Переход на предыдущий месяц → данные меняются (или пустота)
  - Возврат на текущий месяц → данные восстанавливаются
  - URL обновляется корректно: `/dashboard?month=2024-08`

### 6. Смена темы (1 мин)
- [ ] **Переключение темы**
  - Клик по аватару → выпадающее меню
  - "Профиль" → `/profile`
  - Переключатель светлая/темная тема
  - Сохранение → интерфейс меняется мгновенно

### 7. Логаут (1 мин)
- [ ] **Выход из системы**
  - Клик по аватару → "Выйти"
  - Редирект на `/login`
  - Попытка доступа к `/dashboard` → снова редирект на `/login`
  - Сессия завершена корректно

### 8. Мобильная версия (1 мин)
- [ ] **Адаптивность**
  - Открытие с мобильного/планшета (или DevTools)
  - Навигация работает (гамбургер-меню)
  - Формы корректно отображаются
  - Свайп-действия на карточках (если реализованы)

## Критерии прохождения
✅ **Пройден** - все пункты выполнены без ошибок  
⚠️ **Частичный** - есть некритичные UI-дефекты, но функционал работает  
❌ **Провален** - есть блокеры или критичные ошибки  

## Быстрые команды для тестировщика
```bash
# Запуск приложения локально
python app.py

# Проверка логов ошибок
tail -f logs/app.log | grep ERROR

# Сброс тестовых данных (если нужно)
rm budget.db && python init_db.py
```

## Отчёт о багах
При обнаружении проблем создать Issue в `/issues` с приоритетом:
- **BLOCKER** - логин не работает, приложение недоступно
- **MAJOR** - данные не сохраняются, расчёты неверны  
- **MINOR** - UI-дефекты, неточности интерфейса

**Шаблон бага:**
```
Название: [SMOKE] Кнопка "Добавить расход" не работает
Приоритет: MAJOR
Окружение: Chrome 120, localhost:5000
Шаги: 1) Логин 2) Expenses 3) Клик "Добавить" 
Ожидается: Открытие формы
Фактически: 500 ошибка
Снимок экрана: прикрепить
```
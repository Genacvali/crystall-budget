:root{
  /* YNAB-esque palette */
  --ynab-primary:#1572B6;           /* action blue */
  --ynab-primary-600:#11649f;
  --ynab-primary-700:#0e5587;
  --ynab-accent:#22A699;            /* success/positive */
  --ynab-warning:#F59E0B;           /* amber */
  --ynab-danger:#EF4444;            /* red */
  --ynab-info:#0EA5E9;              /* info */

  --ynab-gray-50:#f8fafc;
  --ynab-gray-100:#f1f5f9;
  --ynab-gray-200:#e2e8f0;
  --ynab-gray-300:#cbd5e1;
  --ynab-gray-400:#94a3b8;
  --ynab-gray-500:#64748b;
  --ynab-gray-600:#475569;
  --ynab-gray-700:#334155;
  --ynab-gray-800:#1f2937;
  --ynab-gray-900:#0f172a;

  --ynab-bg: #ffffff;
  --ynab-surface:#ffffff;
  --ynab-surface-2:#f7fafc;
  --ynab-border: var(--ynab-gray-200);
  --ynab-text:#0b1220;
  --ynab-muted:var(--ynab-gray-600);

  /* radius & shadow */
  --ynab-radius:12px;
  --ynab-radius-lg:16px;
  --ynab-shadow:0 6px 18px rgba(15,23,42,.08);
  --ynab-shadow-sm:0 2px 8px rgba(15,23,42,.06);

  /* spacing (4px grid) */
  --ynab-space-1:4px;  --ynab-space-2:8px;  --ynab-space-3:12px;
  --ynab-space-4:16px; --ynab-space-5:20px; --ynab-space-6:24px;
  --ynab-space-7:28px; --ynab-space-8:32px; --ynab-space-10:40px;

  /* typography */
  --ynab-text-xs:12px; --ynab-text-sm:14px; --ynab-text-md:16px;
  --ynab-text-lg:18px; --ynab-text-xl:20px; --ynab-text-2xl:24px;
}

/* Dark theme overrides */
:root[data-bs-theme="dark"]{
  --ynab-bg:#0f172a;
  --ynab-surface:#111827;
  --ynab-surface-2:#0b1220;
  --ynab-border:#1f2937;
  --ynab-text:#e5e7eb;
  --ynab-muted:#94a3b8;
  --ynab-shadow:0 6px 18px rgba(0,0,0,.6);
  --ynab-shadow-sm:0 2px 8px rgba(0,0,0,.5);
}

/* Base */
html,body{background:var(--ynab-bg); color:var(--ynab-text);} 
.ynab-container{max-width:1200px; margin-inline:auto; padding:var(--ynab-space-6) var(--ynab-space-4);} 

/* NAVBAR */
.ynab-navbar{position:sticky; top:0; z-index:1030; backdrop-filter:saturate(150%) blur(8px); background:color-mix(in oklab, var(--ynab-surface) 85%, transparent); border-bottom:1px solid var(--ynab-border);} 
.ynab-navbar-container{display:flex; align-items:center; justify-content:space-between; gap:var(--ynab-space-4); padding:var(--ynab-space-3) var(--ynab-space-4);} 
.ynab-navbar-brand{display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.2px; color:var(--ynab-text); text-decoration:none;}

/* Top nav links */
.ynab-navbar-nav{display:flex; gap:6px; align-items:center;}
.ynab-nav-link{display:flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; color:var(--ynab-muted); text-decoration:none; font-weight:600;}
.ynab-nav-link:hover{background:var(--ynab-gray-100); color:var(--ynab-text);} 
:root[data-bs-theme="dark"] .ynab-nav-link:hover{background:var(--ynab-gray-800);} 
.ynab-nav-link-active{color:var(--ynab-primary) !important; background:color-mix(in oklab, var(--ynab-primary) 12%, transparent);} 

/* Right side actions */
.ynab-navbar-actions{display:flex; align-items:center; gap:10px;}

/* Currency selector */
.ynab-currency-selector{display:flex; gap:6px; background:var(--ynab-surface); padding:4px; border-radius:999px; border:1px solid var(--ynab-border);} 
.ynab-currency-btn{border:0; background:transparent; padding:6px 10px; border-radius:999px; font-weight:700; color:var(--ynab-muted); cursor:pointer;}
.ynab-currency-btn[aria-pressed="true"], .ynab-currency-btn.active{color:#fff; background:var(--ynab-primary);} 
.ynab-currency-btn:focus-visible{outline:2px solid color-mix(in oklab, var(--ynab-primary) 50%, white); outline-offset:2px;}

/* Theme toggle */
.ynab-theme-toggle{border:1px solid var(--ynab-border); background:var(--ynab-surface); padding:8px 10px; border-radius:12px; display:inline-flex; align-items:center; gap:6px; cursor:pointer; box-shadow:var(--ynab-shadow-sm);} 
.ynab-theme-toggle:hover{transform:translateY(-1px);} 

/* Reusable button */
.ynab-btn{display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:12px; border:1px solid var(--ynab-border); background:var(--ynab-surface); color:var(--ynab-text); font-weight:700; text-decoration:none; box-shadow:var(--ynab-shadow-sm);} 
.ynab-btn:hover{transform:translateY(-1px);} 
.ynab-btn-danger{border-color:color-mix(in oklab, var(--ynab-danger) 30%, var(--ynab-border)); color:#fff; background:var(--ynab-danger);} 
.ynab-btn-full{width:100%; justify-content:center;}

/* DROPDOWN (bootstrap reset to match) */
.dropdown-menu{border-radius:14px; border:1px solid var(--ynab-border); background:var(--ynab-surface); box-shadow:var(--ynab-shadow);} 
.dropdown-item{border-radius:10px;}
.dropdown-item:hover{background:var(--ynab-gray-100);} 
:root[data-bs-theme="dark"] .dropdown-item:hover{background:var(--ynab-gray-800);} 

/* SIDEBAR (mobile) */
.ynab-sidebar-overlay{position:fixed; inset:0; background:rgba(0,0,0,.2); opacity:0; visibility:hidden; transition:.2s ease all;} 
.ynab-sidebar-overlay-open{opacity:1; visibility:visible;} 
.ynab-sidebar{position:fixed; inset:0 auto 0 0; width:min(88vw,360px); background:var(--ynab-surface); transform:translateX(-105%); transition:transform .22s ease; border-right:1px solid var(--ynab-border); z-index:1075; display:flex; flex-direction:column;} 
.ynab-sidebar-open{transform:translateX(0);} 
.ynab-sidebar-header{display:flex; align-items:center; justify-content:space-between; padding:var(--ynab-space-4); border-bottom:1px solid var(--ynab-border);} 
.ynab-sidebar-brand{display:flex; align-items:center; gap:10px; font-weight:800; color:var(--ynab-text); text-decoration:none;} 
.ynab-sidebar-close{border:0; background:transparent; color:var(--ynab-muted); padding:8px; border-radius:10px;} 
.ynab-sidebar-close:hover{background:var(--ynab-gray-100);} 
:root[data-bs-theme="dark"] .ynab-sidebar-close:hover{background:var(--ynab-gray-800);} 
.ynab-sidebar-nav{display:flex; flex-direction:column; padding:var(--ynab-space-3);} 
.ynab-sidebar-link{display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:12px; color:var(--ynab-muted); text-decoration:none; font-weight:700;} 
.ynab-sidebar-link:hover{background:var(--ynab-gray-100); color:var(--ynab-text);} 
:root[data-bs-theme="dark"] .ynab-sidebar-link:hover{background:var(--ynab-gray-800);} 
.ynab-sidebar-link-active{color:var(--ynab-primary) !important; background:color-mix(in oklab, var(--ynab-primary) 12%, transparent);} 
.ynab-sidebar-footer{margin-top:auto; padding:var(--ynab-space-3);} 

/* CARDS */
.ynab-card{background:var(--ynab-surface); border:1px solid var(--ynab-border); border-radius:var(--ynab-radius-lg); box-shadow:var(--ynab-shadow);} 
.ynab-card-body{padding:var(--ynab-space-6);} 
.ynab-card + .ynab-card{margin-top:var(--ynab-space-4);} 

/* TABLES: budget-like */
.table{--bs-table-bg:transparent; color:var(--ynab-text);} 
.ynab-table{width:100%; border-collapse:separate; border-spacing:0 6px;} 
.ynab-table thead th{position:sticky; top:0; z-index:2; background:var(--ynab-bg); color:var(--ynab-muted); text-transform:uppercase; font-size:var(--ynab-text-xs); letter-spacing:.04em; padding:10px; border-bottom:1px solid var(--ynab-border);} 
.ynab-table tbody tr{background:var(--ynab-surface); border:1px solid var(--ynab-border); box-shadow:var(--ynab-shadow-sm);} 
.ynab-table tbody td{padding:12px 14px; vertical-align:middle;} 
.ynab-table .ynab-row{border-radius:14px; overflow:hidden;} 

/* Budget row pills (like YNAB Available/Activity/Assigned) */
.pill{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; font-weight:800; letter-spacing:.2px;}
.pill--available{background:color-mix(in oklab, var(--ynab-accent) 20%, transparent); color:var(--ynab-accent);} 
.pill--activity{background:color-mix(in oklab, var(--ynab-info) 20%, transparent); color:var(--ynab-info);} 
.pill--assigned{background:color-mix(in oklab, var(--ynab-primary) 20%, transparent); color:var(--ynab-primary);} 
.pill--warning{background:color-mix(in oklab, var(--ynab-warning) 20%, transparent); color:var(--ynab-warning);} 
.pill--danger{background:color-mix(in oklab, var(--ynab-danger) 20%, transparent); color:var(--ynab-danger);} 

/* Amount cells */
.amount{font-variant-numeric:tabular-nums; font-weight:800;} 
.amount.negative{color:var(--ynab-danger);} 
.amount.positive{color:var(--ynab-accent);} 
.currency-display{opacity:.7; margin-left:4px; font-weight:700;}

/* Category group header */
.category-group{display:flex; align-items:center; justify-content:space-between; padding:10px 12px; color:var(--ynab-muted); text-transform:uppercase; letter-spacing:.04em; font-size:var(--ynab-text-xs);} 
.category-group .toggle{border:0; background:transparent; color:inherit; border-radius:10px; padding:6px;} 
.category-group .toggle:hover{background:var(--ynab-gray-100);} 
:root[data-bs-theme="dark"] .category-group .toggle:hover{background:var(--ynab-gray-800);} 

/* Inline edit fields */
.ynab-input{border:1px solid var(--ynab-border); background:var(--ynab-surface); border-radius:10px; padding:8px 10px; color:var(--ynab-text); width:100%;}
.ynab-input:focus{outline:2px solid color-mix(in oklab, var(--ynab-primary) 45%, white);} 

/* Toasts (used by showToast) */
.cb-toast{border:1px solid var(--ynab-border); background:var(--ynab-surface); border-radius:14px; box-shadow:var(--ynab-shadow); overflow:hidden;}
.cb-toast-header{display:flex; align-items:center; gap:8px; background:var(--ynab-surface-2); border-bottom:1px solid var(--ynab-border);} 
.cb-toast-body{font-size:var(--ynab-text-sm);} 
.cb-toast-success{border-left:6px solid var(--ynab-accent);} 
.cb-toast-error{border-left:6px solid var(--ynab-danger);} 
.cb-toast-warning{border-left:6px solid var(--ynab-warning);} 
.cb-toast-info{border-left:6px solid var(--ynab-info);} 

/* Animations */
.cb-scale-in{animation:cb-scale-in .18s ease-out both;} 
@keyframes cb-scale-in{from{opacity:0; transform:translateY(6px) scale(.98);} to{opacity:1; transform:translateY(0) scale(1);} }

/* UTILITIES */
.badge-soft{background:var(--ynab-gray-100); color:var(--ynab-muted); padding:4px 8px; border-radius:999px; font-weight:700; font-size:var(--ynab-text-xs);} 
:root[data-bs-theme="dark"] .badge-soft{background:var(--ynab-gray-800);} 

.muted{color:var(--ynab-muted);} 
.divider{height:1px; background:var(--ynab-border); margin:var(--ynab-space-4) 0;} 

/* Forms */
label{font-size:var(--ynab-text-sm); color:var(--ynab-muted);}
.form-control{border-radius:12px; border:1px solid var(--ynab-border); background:var(--ynab-surface); color:var(--ynab-text);} 
.form-control:focus{border-color:transparent; outline:2px solid color-mix(in oklab, var(--ynab-primary) 45%, white);} 

/* Alerts (Bootstrap harmonize) */
.alert{border-radius:14px; border:1px solid var(--ynab-border);} 
.alert-success{background:color-mix(in oklab, var(--ynab-accent) 10%, var(--ynab-surface)); color:var(--ynab-text);} 
.alert-danger{background:color-mix(in oklab, var(--ynab-danger) 8%, var(--ynab-surface));} 
.alert-warning{background:color-mix(in oklab, var(--ynab-warning) 10%, var(--ynab-surface));} 
.alert-info{background:color-mix(in oklab, var(--ynab-info) 10%, var(--ynab-surface));}

/* Responsive tweaks */
@media (max-width: 992px){
  .ynab-navbar-nav{display:none;}
}

/* ---- OPTIONAL: Budget list layout helpers ---- */
.budget-grid{display:grid; grid-template-columns: 1.2fr .9fr .9fr .9fr .4fr; gap:0;}
.budget-grid > div{padding:12px 14px;}
.budget-row{display:grid; grid-template-columns: 1.2fr .9fr .9fr .9fr .4fr; align-items:center; background:var(--ynab-surface); border:1px solid var(--ynab-border); border-radius:14px; margin-bottom:8px; box-shadow:var(--ynab-shadow-sm);} 
.budget-row:hover{outline:2px solid color-mix(in oklab, var(--ynab-primary) 20%, transparent);} 
.budget-row .name{display:flex; align-items:center; gap:10px; font-weight:700;} 
.budget-row .controls{display:flex; justify-content:flex-end; gap:8px;} 

/* Icon tone */
.bi{vertical-align:-.125em;}
